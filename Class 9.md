1、`发送窗口的最大值： W_T<=2^n-1`

2、选择重传ARQ协议，只重传出错的帧。接收方大小>1，当所有的数据帧都收到后再交给主机

优点：避免无效重传

缺点：接收方需要更多的缓存

`接收方窗口最大值：W_T<=2^(n-1)`

# HDLC
面向字符：停等协议，双方都要使用同样的字符集。

面向比特：`HDLC（High-Level Data Link Control）`

链路接入规程LAP（Link Access Procedure）

## HDLC适用范围
主站（primary station）发送命令，接受想用，负责整个链路的控制（系统初始化，流控，差错回复）

次站/从站(secondary station) 接受命令，发送响应

组合站(combined station) 同时具有主、次站的功能

## 链路构型
非平衡配置：只有主站可以向次站发送数据传输，点-点/多点

平衡站：每个站点都是组合站，都可以发送命令和相应。复合式。

## HDLC帧结构
F标志字段8、A地址字段8、C控制字段8、信息字段（任意长度）、FCS帧校验序列16、F标志8

`最短有效帧长 32比特`

```
根据控制字段，分为三大类：

根据前两个比特判断是哪一个类型
        1    2  3    4            5                   6 7 8   
信号帧I 0      N(S) 发送编号       P/F              N(R)确认编号       

监督帧S 1    0     S              P/F                 N(R)

无编号帧 1   1     M              P/F                 M

```
N（s）发送帧序号，发送窗口协议，由于用了3比特，因此最多可以连续发送8个帧

N（S）捎带应答。通常是期待接受的下一个帧的编号（表明该帧之前所有的帧都已经正确接收）

### 监视帧
监视帧：用作差错和流量控制。不能携带信息字段。`帧长为32比特`（正好这么大） 。2比特，4种状态。`以太网中，最小的长度为64字节`

```
00 RR Recieve Ready 接受准备就绪帧 准备接受下一个，之前的都收到了

10 RNR Recieve Not Ready 接受未就绪 暂停接受下一个，但是之前的都收到了

01 REJ Reject 拒绝 N(R)之前的收到了，之后的都要重发

11 SREJ Selective Reject 选择拒绝 N(R)之前的都收到了，就拒绝N（R）
```

### 无编号帧
用于链路的建立、拆除

M帧的类型由5个比特的修正位M表示

## 因特网种的链路层协议
### SLIP (Serial Line IP)协议

发送IP分组前，先发送一个END,接收方识别两个END之间的内容

缺陷：通信双方需要实现知道对方的IP地址。没有协议类型域，没有校验字段。没有任何形式的身份认证。

### ppp
进一步改进PPP

```
组成：

协议：0021--》信息部分：将IP封装到串行链路的方法

C021 --》 链路控制协议LCP

8021 --》  网络控制协议NCP
```

#### PPP协议格式
首部             IP数据报       尾部
F  A   C   协议  信息部分     FCS  F
7E FF  03                         7E  （16进制表示）
1  1   1    2   不超过1500    2    1

通过协议部分表示信息部分的类型

`PPP是面向字节的 `











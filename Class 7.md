# 数据链路 
考虑两个节点之间

数据链路层传输的 是 数据帧

## 数据链路层的功能
链路管理 /帧定界/流量控制/差错控制/将数据和控制信息区分开/透明传输/寻址

### 链路管理
数据链路的建立，维持和释放

### 帧定界
数据链路层，数据的传送以帧为单位

帧定界可以从比特流中区分开始和接数的位置

### 流量控制
相邻的两个节点。控制了发送方的速率，通过接受方接受能力来判断。--》采用了反馈机制

### 差错控制
纠错： 通过编码技术，接受方自动把差错改正过来

检错： 检测出帧有错误，要么忽略要么重传

### 把数据和控制信息分开
数据和控制信息再同一帧中，对方将其分开

### 透明传输
不管所传数据的比特组合，都能在链路上传送

### 寻址
把信息正确的发送到目的地

## 组帧的目的
使得接受方做帧定界

### 帧定界（帧同步）的方法
字节计数法

`比特填充的首尾定界法`

字符填充的首尾定界法

违法编码法

#### 字节计数法
在帧头设置长度域，后面长度内放置内容

问题：

长度域丢了就找不到了

长度域发生了错误，也会传错，后续的都会出错

#### 字符填充的首尾定界法
使用特殊的ASCII码作为帧的起始和结束

DLE STX作为开始符， DLE ETX作为结束符，当帧失去同步时，通过搜索DLE STX来定界

问题：

如何判断DLE STX是数据还是定界符

解决方法：

DLE写两遍

缺陷：

传输的数据必须是8的整数倍，任意长度的不行

#### 比特填充的首尾定界法

使用特殊的比特模式作为帧的起始和结束 `01111110`

好处：

传输的基本单位是比特而不是字符，可用来传输任意长度的二进制比特币串

发送发边发送边检查数据，每连续发送5个1 后再后面自动插入一个， 这样数据中只会出现1，而不会出现定界符

#### 违法编码法
物理介质上的信号编码有冗余码字，用这些来判断

### 差错控制
差错控制技术，发现差错如何处理，前向纠错，自动重发请求

差错编码技术：如何发现差错

纠错码： 海明码  知道错误+错误的位置

检错码： CRC 检测出错误，但是不能纠正错误

#### `前向纠错（FEC，Forward Error Correct）`

即发送方能使接受方检错并纠错的冗余位，纠错任务由接受方完成，常采用海明码

#### 自动重发请求（ARQ-automatic repeat request）
发送方发送能让接受方发现的冗余位，接受方返回ASK/NSK表示成功/失败。一旦失败就重发










#  流量控制
#### 数据链路层控制的是相邻节点间的流量，传输层控制的是端到端的流量

#### 流控的条件：接受方的接受能力小于发送方的的发送能力

#### 使用某种机制，接收方控制发送方的数据流，是计算机网络中流量控制的基本方法

#### 两种基本方法：停等协议+滑动窗口

发送方把数据存到缓存中，然后一帧一帧的传输，接受方存到缓存中，再倒进内存

## 完全理想化的数据传输
假设一：
数据传输不会出错和丢失

假设二：
接收方完全能接受数据并及时上交

### 简单停止协议
（完全不差错传世+接收方能力不够）

```
#发送方
取出数据帧

将数据帧送到数据链路层的缓存中

将发送缓存中的数据帧发送出去

等待

收到接收方节点发送过来的信息，重复。

#接收方：
等待

收到数据帧，存在数据链路层的缓存中

把缓存中的数据上交给主机

给发送方发送信息，表示数据帧已经上交

```
```
问：简单停止协议使用的是新的帧吗？ 
简单的停止协议：如果保留假设一：每次发送的一定是新的帧
```

### 使用的停等协议
（两个假设都去掉）

```
发送方发送完一帧，就等待应答

应答为ok，继续发送

不ok，或超过规定时间没有收到应答，重新发送
-->但是不知道发送哪一个-->给帧进行编号
-->不让发送方在那里死等，就设置一个计时器
```































